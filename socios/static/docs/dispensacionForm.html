<!DOCTYPE html>
<html>
    <head>
        <title>addVariedad</title>
        <meta charset="utf-8">
        <meta name= "viewport" content= "width=device-width , initial-scale=1 ,shrink-to-fit=no">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="/static/docs/js/utils/disp-form.js" type="module"> </script>
    </head>
    <body style="background-color:  #FEFAE0;">
        <form id="donacionForm">
            <div class="row justify-content-md-center">
                <div class="col-md-8">
                    <div class="card text-center border-success mb-3 bg-light" style="margin-top: 9em;" id="post-photo-form">
                        <div class="card-body mt-3">
                            <div class="row justify-content-md-center">
                                <h3>Nueva dispensación:</h3>
                            </div>
                            <div class="row mb-5 mt-4">
                                <div class="form-group row m-3">
                                    <label for="nSocio" class="col-sm-3 col-form-label"><Strong>Nº socio:</Strong></label>
                                    <div class="col-sm-7">
                                        <input type="number" class="form-control" name="numeroSocio" id="nSocio" required>
                                    </div>
                                </div>
                                <div class="form-group row m-3">
                                    <label for="tipo" class="col-sm-3 col-form-label" required><Strong>Tipo:</Strong></label>
                                    <div class="col-sm-7">
                                        <select class="form-control" name="tipo" id="tipo">
                                            <option default>Marihuana</option>
                                            <option>Polen</option>
                                            <option>BHO</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group row m-3">
                                    <label for="disp" class="col-sm-3 col-form-label" required><Strong>Dispensacion</Strong></label>
                                    <div class="col-sm-5">
                                        <input type="text" class="form-control" name="disp" id="disp" list="marihuana-carta">
                                        <datalist id="marihuana-carta">
                                            {% for variedad in variedades %}
                                                {% if variedad.tipo == "Marihuana" %}
                                                    <option class="{{variedad.tipo}}" id="{{variedad.id}}" name="{{variedad.nombre}}">{{variedad.id}} {{variedad.nombre}} {{variedad.aportacion}}</option>
                                                {% endif %}
                                            {% endfor %}
                                        </datalist>
                                        <datalist id="polen-carta">
                                            {% for variedad in variedades %}
                                                {% if variedad.tipo == "Polen" %}
                                                    <option value="{{variedad.id}}">{{variedad.nombre}} {{variedad.aportacion}}</option>
                                                {% endif %}
                                            {% endfor %}
                                        </datalist>
                                        <datalist id="BHO-carta">
                                            {% for variedad in variedades %}
                                                {% if variedad.tipo == "BHO" %}
                                                    <option value="{{variedad.id}}">{{variedad.nombre}} {{variedad.aportacion}}</option>
                                                {% endif %}
                                            {% endfor %}
                                        </datalist>
                                    </div>
                                </div>
                                <div class="form-group row m-3">
                                    <label for="cantidad" class="col-sm-3 col-form-label" required><Strong>Cantidad</Strong></label>
                                    <div class="col-sm-7">
                                        <div class="row">
                                            <div class="col-sm-3">
                                                <input type="text" class="form-control" name="cantidad" id="cantidad">
                                            </div>
                                            <div class="col-sm-2">
                                                <select class="form-control" name="uds" id="uds">
                                                    <option>g</option>
                                                    <option>creditos</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <button type="button" id="add" class="btn btn-outline-success">Añadir</button>
                                            </div>      
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row" id="errors">
                            </div>
                        </div>
                        <div class="card m-4" id="disp-list-card">
                            <ul class="list-group list-group-flush" id="disp-list">
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </body>
</html>