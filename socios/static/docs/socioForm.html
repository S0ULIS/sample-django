<!DOCTYPE html>
<html>
    <head>
        <title>nuevo socio</title>
        <meta charset="utf-8">
        <meta name= "viewport" content= "width=device-width , initial-scale=1 ,shrink-to-fit=no">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src= "/static/docs/js/utils/openCamera.js"> </script>
        <script src="/static/docs/js/utils/post-socio.js" type="module"> </script>
    </head>
    <body style="background-color:  #FEFAE0;">
        <form id="socioForm">
            <div class="row justify-content-md-center">
                <div id="errors"></div>
                <div class="col-md-8">
                    <div class="card text-center border-success mb-3 card bg-light" style="margin-top: 9em;" id="post-photo-form">
                        <div class="card-body mt-3">
                            <div class="row justify-content-md-center">
                                <h3>Añade un socio:</h3>
                            </div>
                            <div class="row mb-5 mt-4">
                                <div class="form-group col-md-6">
                                    <div class="form-group row m-3">
                                        <label for="numeroSocio" class="col-sm-3 col-form-label"><Strong>Nº socio:</Strong></label>
                                        <div class="col-sm-7">
                                            <input type="text" class="form-control" name="numeroSocio" id="numeroSocio" required>
                                        </div>
                                    </div>
                                    <div class="form-group row m-3">
                                        <label for="nombre" class="col-sm-3 col-form-label"><Strong>Nombre:</Strong></label>
                                        <div class="col-sm-7">
                                            <input type="text" class="form-control" name="nombre" id="nombre" required>
                                        </div>
                                    </div>
                                    <div class="form-group row m-3">
                                        <label for="apellidos" class="col-sm-3 col-form-label"><Strong>Apellidos:</Strong></label>
                                        <div class="col-sm-7">
                                            <input type="text" class="form-control" name="apellidos" id="apellidos" required>
                                        </div>
                                    </div>
                                    <div class="form-group row m-3">
                                        <label for="DNI" class="col-sm-3 col-form-label"><Strong>DNI:</Strong></label>
                                        <div class="col-sm-7">
                                            <input type="text" class="form-control" name="DNI" id="DNI" required>
                                        </div>
                                    </div>
                                    <div class="form-group row m-3">
                                        <label for="email" class="col-sm-3 col-form-label"><Strong>Email:</Strong></label>
                                        <div class="col-sm-7">
                                            <input type="email" class="form-control" name="email" id="email" required>
                                        </div>
                                    </div>
                                    <div class="form-group row m-3">
                                        <label for="docs" class="col-sm-3 col-form-label"><Strong>Docs:</Strong></label>
                                        <div class="col-sm-7">
                                            <input type="file" class="form-control" name="docs" multiple required>
                                        </div>
                                    </div>
                                    <div class="form-group row m-3">
                                        <label for="photo" class="col-sm-3 col-form-label"><Strong>Foto:</Strong></label>
                                        <div class="col-sm-7">
                                            <input type="file" onchange="prephoto(this)" class="form-control" name="photo-file" id="photo">
                                            <input type="text" class="form-control" name="profilePhoto" id="taken-pic-src" style="display: none;">
                                            <button id="start-camera" type="button" class="btn btn-secondary mt-3 mb-3">Start Camera</button>
                                            <video id="video" width="320" height="240" style="display: none;" autoplay></video>
                                            <button id="click-photo" type="button" class="btn btn-secondary mt-3" style="display: none;">Take photo</button>
                                            <canvas id="canvas" width="320" height="240" style="display: none;"></canvas>
                                            <script>
                                                function prephoto(input) {
                                                    const file = input.files[0];
                                                    let preview = document.getElementById("photo-preview");
                                                    const reader = new FileReader();
                                                    reader.addEventListener("load", function () {
                                                        // convert image file to base64 string
                                                        preview.src = reader.result;
                                                        document.getElementById("taken-pic-src").value=reader.result;
                                                    }, false);

                                                    if (file) {
                                                        reader.readAsDataURL(file);
                                                    }
                                                }
                                            </script>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group col-md-5">
                                    <div class="form-group row">
                                        <div class="card">
                                            <img src="/static/docs/images/default_profile.png" id="photo-preview" class="card-img-top">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row" id="errors">
                            </div>
                            <button type="submit" class="btn btn-success col-sm-5 mb-3">Aceptar</button >
                        </div>
                    </div>
                </div>
            </div>
        </form>
        <input type="number" class="form-control d-none" name="saldo" id="saldo">
    </body>
</html>