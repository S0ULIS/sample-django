<!DOCTYPE html>
<html>
    <head>
        <title>addVariedad</title>
        <meta charset="utf-8">
        <meta name= "viewport" content= "width=device-width , initial-scale=1 ,shrink-to-fit=no">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src= "js/utils/openCamera.js"> </script>
        <script src="js/utils/post-variedad.js" type="module"> </script>
    </head>
    <body style="background-color:  #FEFAE0;">
        <form id="variedadForm">
            <div class="row justify-content-md-center">
                <div class="col-md-8">
                    <div class="card text-center border-success mb-3 bg-light" style="margin-top: 9em;" id="post-photo-form">
                        <div class="card-body mt-3">
                            <div class="row justify-content-md-center">
                                <h3>AÃ±ade a la carta:</h3>
                            </div>
                            <div class="row mb-5 mt-4">
                                <div class="form-group col-md-7">
                                    <div class="form-group row m-3">
                                        <label for="tipo" class="col-sm-3 col-form-label" required><Strong>Tipo:</Strong></label>
                                        <div class="col-sm-7">
                                            <select class="form-control" name="tipo" id="tipo">
                                                <option>Marihuana</option>
                                                <option>Polen</option>
                                                <option>BHO</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group row m-3">
                                        <label for="nombre" class="col-sm-3 col-form-label"><Strong>Nombre:</Strong></label>
                                        <div class="col-sm-7">
                                            <input type="text" class="form-control" name="nombre" id="nombre" required>
                                        </div>
                                    </div>
                                    <div class="form-group row m-3">
                                        <label for="aportacion" class="col-sm-3 col-form-label"><Strong>Aportacion:</Strong></label>
                                        <div class="col-sm-7">
                                            <input type="number" class="form-control" name="aportacion" id="aportacion" required>
                                        </div>
                                    </div>
                                    <div class="form-group row m-3">
                                        <label for="genetica" class="col-sm-3 col-form-label"><Strong>Genetica:</Strong></label>
                                        <div class="col-sm-7">
                                            <input type="text" class="form-control" name="genetica" id="genetica" required>
                                        </div>
                                    </div>
                                    <div class="form-group row m-3">
                                        <label for="THCCBD" class="col-sm-3 col-form-label"><Strong>THC/CBD:</Strong></label>
                                        <div class="col-sm-7">
                                            <input type="text" class="form-control" name="THCCBD" id="THCCBD" required>
                                        </div>
                                    </div>
                                    <div class="form-group row m-3">
                                        <label for="stock" class="col-sm-3 col-form-label"><Strong>Stock:</Strong></label>
                                        <div class="col-sm-7">
                                            <input type="number" class="form-control" name="stock" id="stock" required>
                                        </div>
                                    </div>
                                    <div class="form-group row form-switch mt-3 mb-3">
                                        <label for="disp" class="col-sm-3 col-form-label"><Strong>Disponible:</Strong></label>
                                        <div class="col-sm-2 mt-2">
                                            <input class="form-check-input" type="checkbox" id="disp" checked>
                                        </div>
                                    </div>
                                    <style>
                                        .form-switch {
                                            padding-left: 1.5em !important;
                                        }
                                    </style>
                                    <div class="form-group row m-3">
                                        <label for="photo" class="col-sm-3 col-form-label"><Strong>Foto:</Strong></label>
                                        <div class="col-sm-7">
                                            <input type="file" onchange="prephoto(this)" class="form-control" name="photo-file" id="photo">
                                            <input type="text" class="form-control" name="profilePhoto" id="taken-pic-src" style="display: none;"> <!--change name/script dont work =(-->
                                            <button id="start-camera" type="button" class="btn btn-secondary mt-3 mb-3">Start Camera</button>
                                            <video id="video" width="320" height="240" style="display: none;" autoplay></video>
                                            <button id="click-photo" type="button" class="btn btn-secondary mt-3" style="display: none;">Take photo</button>
                                            <canvas id="canvas" width="320" height="240" style="display: none;"></canvas>
                                            <!--mover a script aparte-->
                                            <script>
                                                function prephoto(input) {
                                                    const file = input.files[0];
                                                    let preview = document.getElementById("photo-preview");
                                                    const reader = new FileReader();
                                                    reader.addEventListener("load", function () {
                                                        // convert image file to base64 string
                                                        preview.src = reader.result;
                                                        document.getElementById("taken-pic-src").value=reader.result;
                                                    }, false);

                                                    if (file) {
                                                        reader.readAsDataURL(file);
                                                    }
                                                }
                                            </script>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group col-md-4">
                                    <div class="form-group row">
                                        <div class="card">
                                            <img src="/static/docs/images/yerbita.jpg" id="photo-preview" class="card-img-top">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row" id="errors">
                            </div>
                            <button type="submit" class="btn btn-success col-sm-5 mb-3">Aceptar</button >
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </body>
</html>